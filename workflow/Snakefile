# ========== SETUP ===========
# Expansion utilities
include: "utils.smk"

# Relative path aliases
include: "pathing.smk"

# Configure workflow
configfile: "workflow/configs/.default.yaml"

# Extend configuration
for tgt in config['targets']:
    # Extend target list
    include: f"targets/{tgt}.smk"  # Assumes configfile specified on command line

# ========== RULES ==========
# Include computational modules
# include: "modules/observations.smk"  # ! BROKEN, DO BY HAND
include: "modules/models.smk"
include: "modules/embeddings.smk"

# --- Target ---
rule all:
    input:
        TARGETS
